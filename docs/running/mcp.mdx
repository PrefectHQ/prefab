---
title: MCP Server
sidebarTitle: MCP Server
description: Build MCP Apps that render inside Claude Desktop, ChatGPT, and other hosts.
icon: message-bot
---

<Info>
MCP App support will be available in [FastMCP 3.1](https://github.com/jlowin/fastmcp). This page will be updated with full documentation when it ships.
</Info>

[MCP Apps](https://modelcontextprotocol.io/docs/extensions/apps) are an extension of the Model Context Protocol that lets MCP servers render interactive UIs directly inside the conversation. Your tool returns a UI, and the host displays it as a live interface — forms, charts, data tables — not as static text.

The integration targets FastMCP. Mark any tool with `app=True` and return either a component tree or a `PrefabApp`:

```python Component Tree
from prefab_ui import FastMCP
from prefab_ui.components import Card, CardContent, Column, H3, Input, Button
from prefab_ui.actions import ToolCall

mcp = FastMCP("My Server")

@mcp.tool(app=True)
async def search(query: str = "") -> Card:
    results = find_items(query) if query else []
    with Card() as view:
        with CardContent():
            with Column(gap=3):
                Input(name="q", placeholder="Search...")
                Button(
                    "Go",
                    on_click=ToolCall("search", arguments={"query": "{{ q }}"}),
                )
    return view
```

Returning a component tree is the simplest option — FastMCP wraps it in a `PrefabApp` automatically. For more control over initial state, reusable definitions, or external assets, return a `PrefabApp` directly:

```python PrefabApp
from prefab_ui import FastMCP
from prefab_ui.app import PrefabApp
from prefab_ui.components import Card, CardContent, Column, H3, Muted, Input

mcp = FastMCP("My Server")

@mcp.tool(app=True)
async def greeting() -> PrefabApp:
    with Card() as view:
        with CardContent():
            with Column(gap=3):
                H3("Hello, {{ name }}!")
                Muted("Type below and watch this update.")
                Input(name="name", placeholder="Your name...")
    return PrefabApp(view=view, state={"name": "world"})
```

When a host like Claude Desktop or Prefect Horizon calls this tool, the user sees a fully interactive UI instead of plain text. Client-side actions like `SetState`, `ToggleState`, and `ShowToast` work immediately in the browser, while server actions like `ToolCall` make a round-trip through the MCP protocol back to your server — so the UI can fetch fresh data, submit input, and trigger server-side logic.
