---
title: Call Tool
description: Call a server-side tool from a UI interaction.
icon: wrench
---

import { ComponentPreview } from '/snippets/component-preview.mdx'

`ToolCall` is the bridge between your UI and your server logic. When a user clicks a button or submits a form, `ToolCall` invokes a server tool with the arguments you specify — the same tools you define with `@mcp.tool()`.

<ComponentPreview auto json={`{"view":{"type":"Button","label":"Refresh Data","variant":"default","size":"default","disabled":false,"onClick":{"action":"toolCall","tool":"get_latest_data","arguments":{}}}}`}>
<CodeGroup>
```python Python icon="python"
from prefab_ui.components import Button
from prefab_ui import ToolCall

Button("Refresh Data", on_click=ToolCall("get_latest_data"))
```
```json Protocol icon="brackets-curly"
{
  "view": {
    "type": "Button",
    "label": "Refresh Data",
    "variant": "default",
    "size": "default",
    "disabled": false,
    "onClick": {
      "action": "toolCall",
      "tool": "get_latest_data",
      "arguments": {}
    }
  }
}
```
</CodeGroup>
</ComponentPreview>

The renderer proxies the call through the Prefab SDK, so the tool executes server-side with full access to your backend.

## Passing Arguments

Use `{{ key }}` interpolation in the `arguments` dict to pass client state to the tool. Form controls with a `name` automatically sync to state — `Input(name="city")` updates `city` on every keystroke, no `SetState` needed.

<ComponentPreview auto json={`{"view":{"cssClass":"gap-3","type":"Column","children":[{"type":"Input","inputType":"text","placeholder":"Enter a city...","name":"city","disabled":false,"required":false},{"type":"Button","label":"Get Weather","variant":"default","size":"default","disabled":false,"onClick":{"action":"toolCall","tool":"get_weather","arguments":{"location":"{{ city }}"}}}]}}`}>
<CodeGroup>
```python Python icon="python"
from prefab_ui.components import Input, Button, Column
from prefab_ui import ToolCall

with Column(gap=3):
    Input(name="city", placeholder="Enter a city...")
    Button("Get Weather", on_click=ToolCall(
        "get_weather",
        arguments={"location": "{{ city }}"},
    ))
```
```json Protocol icon="brackets-curly"
{
  "view": {
    "cssClass": "gap-3",
    "type": "Column",
    "children": [
      {
        "type": "Input",
        "inputType": "text",
        "placeholder": "Enter a city...",
        "name": "city",
        "disabled": false,
        "required": false
      },
      {
        "type": "Button",
        "label": "Get Weather",
        "variant": "default",
        "size": "default",
        "disabled": false,
        "onClick": {
          "action": "toolCall",
          "tool": "get_weather",
          "arguments": {
            "location": "{{ city }}"
          }
        }
      }
    ]
  }
}
```
</CodeGroup>
</ComponentPreview>

Type a city name, click the button, and the current input value flows into the `location` argument.

## Combined with Client Actions

Pass a list to execute multiple actions from a single interaction. A common pattern: update UI state before making the server call, so the user sees immediate feedback.

```python Combined Actions
from prefab_ui.components import Button
from prefab_ui import ToolCall, SetState

Button("Analyze", on_click=[
    SetState("status", "analyzing..."),
    ToolCall("run_analysis", arguments={"data": "{{ dataset }}"}),
])
```

The `SetState` executes first (instant), then `ToolCall` fires the server request.

## API Reference

<Card icon="code" title="ToolCall Parameters">
<ParamField body="tool" type="str" required>
  Name of the server tool to call. Can be passed as a positional argument.
</ParamField>

<ParamField body="arguments" type="dict[str, Any]" default="{}">
  Arguments to pass to the tool. Values support `{{ key }}` interpolation to reference client-side state at call time.
</ParamField>
</Card>

## Protocol Reference

For the complete protocol schema, see the [ToolCall protocol definition](/protocol/tool-call).

<Card icon="braces" title="ToolCall Protocol">
<ParamField body="action" type="toolCall" default="toolCall">
</ParamField>

<ParamField body="tool" type="string" required>
  Name of the server tool to call
</ParamField>

<ParamField body="arguments" type="object">
  Arguments to pass. Supports `{{ key }}` interpolation.
</ParamField>

<ParamField body="resultKey" type="string | null">
  State key to store the tool result under
</ParamField>

</Card>
