---
title: The Button
description: A button you probably shouldn't press, built with conditional rendering and client-side state.
icon: hand-pointer
mode: center
---

import { ComponentPreview } from '/snippets/component-preview.mdx'

A single button that escalates through four states of increasingly urgent warnings â€” all driven by `If`/`Elif`/`Else` branches and `SetState` actions with no server calls.

<ComponentPreview json={{"view":{"type":"Card","children":[{"type":"CardHeader","children":[{"cssClass":"items-center justify-between","type":"Row","children":[{"type":"CardTitle","content":"The Button"},{"type":"Condition","cases":[{"when":"{{ presses > 0 }}","children":[{"type":"Badge","label":"{{ presses }}","variant":"secondary"}]}]}]}]},{"type":"CardContent","children":[{"cssClass":"gap-4","type":"Column","children":[{"type":"Condition","cases":[{"when":"{{ presses == 0 }}","children":[{"type":"Button","label":"This is probably the best button to press","variant":"info","size":"default","disabled":false,"onClick":{"action":"setState","key":"presses","value":"{{ presses + 1 }}"}}]},{"when":"{{ presses == 1 }}","children":[{"type":"Alert","variant":"info","icon":"info","children":[{"type":"AlertTitle","content":"Thank you!"},{"type":"AlertDescription","content":"Your cooperation has been noted and will be reported."}]},{"type":"Button","label":"Please do not press this button again","variant":"outline","size":"default","disabled":false,"onClick":{"action":"setState","key":"presses","value":"{{ presses + 1 }}"}}]},{"when":"{{ presses == 2 }}","children":[{"type":"Alert","variant":"warning","icon":"alert-triangle","children":[{"type":"AlertTitle","content":"We did ask nicely"},{"type":"AlertDescription","content":"Management has been informed."}]},{"type":"Progress","value":66.0,"min":0,"max":100.0,"variant":"default","indicatorClass":"bg-yellow-500"},{"content":"Patience remaining: 34%","type":"Muted"},{"type":"Button","label":"Please do not press this button again","variant":"destructive","size":"default","disabled":false,"onClick":{"action":"setState","key":"presses","value":"{{ presses + 1 }}"}}]},{"when":"{{ presses == 3 }}","children":[{"type":"Alert","variant":"destructive","icon":"alert-triangle","children":[{"type":"AlertTitle","content":"Now look what you've done"},{"type":"AlertDescription","content":"The improbability drive has been activated."}]},{"type":"Progress","value":100.0,"min":0,"max":100.0,"variant":"default","indicatorClass":"bg-red-500"},{"cssClass":"gap-2 items-center","type":"Row","children":[{"type":"Loader","variant":"spin","size":"sm"},{"content":"Recalculating the probability of your existence...","type":"Muted"}]},{"type":"Button","label":"OK maybe press it one more time","variant":"ghost","size":"default","disabled":false,"onClick":{"action":"setState","key":"presses","value":0}}]}],"else":[{"content":"This should not happen.","type":"Text"}]}]}]},{"type":"CardFooter","children":[{"type":"Condition","cases":[{"when":"{{ presses > 0 }}","children":[{"content":"Share and Enjoy!","type":"Muted"}]}]}]}]},"state":{"presses":0}}} playground="ZnJvbSBwcmVmYWJfdWkuYXBwIGltcG9ydCBzZXRfaW5pdGlhbF9zdGF0ZQpmcm9tIHByZWZhYl91aS5jb21wb25lbnRzIGltcG9ydCAoCiAgICBBbGVydCwgQWxlcnREZXNjcmlwdGlvbiwgQWxlcnRUaXRsZSwgQmFkZ2UsIEJ1dHRvbiwgQ2FyZCwgQ2FyZENvbnRlbnQsCiAgICBDYXJkRm9vdGVyLCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUsIENvbHVtbiwgTG9hZGVyLAogICAgTXV0ZWQsIFByb2dyZXNzLCBSb3csIFRleHQsCikKZnJvbSBwcmVmYWJfdWkuY29tcG9uZW50cy5jb250cm9sX2Zsb3cgaW1wb3J0IEVsaWYsIEVsc2UsIElmCmZyb20gcHJlZmFiX3VpLmFjdGlvbnMgaW1wb3J0IFNldFN0YXRlCgpzZXRfaW5pdGlhbF9zdGF0ZShwcmVzc2VzPTApCgp3aXRoIENhcmQoKToKICAgIHdpdGggQ2FyZEhlYWRlcigpOgogICAgICAgIHdpdGggUm93KGFsaWduPSJjZW50ZXIiLCBjc3NfY2xhc3M9Imp1c3RpZnktYmV0d2VlbiIpOgogICAgICAgICAgICBDYXJkVGl0bGUoIlRoZSBCdXR0b24iKQogICAgICAgICAgICB3aXRoIElmKCJwcmVzc2VzID4gMCIpOgogICAgICAgICAgICAgICAgQmFkZ2UoInt7IHByZXNzZXMgfX0iLCB2YXJpYW50PSJzZWNvbmRhcnkiKQogICAgd2l0aCBDYXJkQ29udGVudCgpOgogICAgICAgIHdpdGggQ29sdW1uKGdhcD00KToKICAgICAgICAgICAgd2l0aCBJZigicHJlc3NlcyA9PSAwIik6CiAgICAgICAgICAgICAgICBCdXR0b24oCiAgICAgICAgICAgICAgICAgICAgIlRoaXMgaXMgcHJvYmFibHkgdGhlIGJlc3QgYnV0dG9uIHRvIHByZXNzIiwKICAgICAgICAgICAgICAgICAgICB2YXJpYW50PSJpbmZvIiwKICAgICAgICAgICAgICAgICAgICBvbl9jbGljaz1TZXRTdGF0ZSgicHJlc3NlcyIsICJ7eyBwcmVzc2VzICsgMSB9fSIpLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICB3aXRoIEVsaWYoInByZXNzZXMgPT0gMSIpOgogICAgICAgICAgICAgICAgd2l0aCBBbGVydCh2YXJpYW50PSJpbmZvIiwgaWNvbj0iaW5mbyIpOgogICAgICAgICAgICAgICAgICAgIEFsZXJ0VGl0bGUoIlRoYW5rIHlvdSEiKQogICAgICAgICAgICAgICAgICAgIEFsZXJ0RGVzY3JpcHRpb24oCiAgICAgICAgICAgICAgICAgICAgICAgICJZb3VyIGNvb3BlcmF0aW9uIGhhcyBiZWVuIG5vdGVkIGFuZCB3aWxsIGJlIHJlcG9ydGVkLiIKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBCdXR0b24oCiAgICAgICAgICAgICAgICAgICAgIlBsZWFzZSBkbyBub3QgcHJlc3MgdGhpcyBidXR0b24gYWdhaW4iLAogICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9Im91dGxpbmUiLAogICAgICAgICAgICAgICAgICAgIG9uX2NsaWNrPVNldFN0YXRlKCJwcmVzc2VzIiwgInt7IHByZXNzZXMgKyAxIH19IiksCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIHdpdGggRWxpZigicHJlc3NlcyA9PSAyIik6CiAgICAgICAgICAgICAgICB3aXRoIEFsZXJ0KHZhcmlhbnQ9Indhcm5pbmciLCBpY29uPSJhbGVydC10cmlhbmdsZSIpOgogICAgICAgICAgICAgICAgICAgIEFsZXJ0VGl0bGUoIldlIGRpZCBhc2sgbmljZWx5IikKICAgICAgICAgICAgICAgICAgICBBbGVydERlc2NyaXB0aW9uKCJNYW5hZ2VtZW50IGhhcyBiZWVuIGluZm9ybWVkLiIpCiAgICAgICAgICAgICAgICBQcm9ncmVzcyh2YWx1ZT02NiwgbWF4PTEwMCwgaW5kaWNhdG9yX2NsYXNzPSJiZy15ZWxsb3ctNTAwIikKICAgICAgICAgICAgICAgIE11dGVkKCJQYXRpZW5jZSByZW1haW5pbmc6IDM0JSIpCiAgICAgICAgICAgICAgICBCdXR0b24oCiAgICAgICAgICAgICAgICAgICAgIlBsZWFzZSBkbyBub3QgcHJlc3MgdGhpcyBidXR0b24gYWdhaW4iLAogICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9ImRlc3RydWN0aXZlIiwKICAgICAgICAgICAgICAgICAgICBvbl9jbGljaz1TZXRTdGF0ZSgicHJlc3NlcyIsICJ7eyBwcmVzc2VzICsgMSB9fSIpLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICB3aXRoIEVsaWYoInByZXNzZXMgPT0gMyIpOgogICAgICAgICAgICAgICAgd2l0aCBBbGVydCh2YXJpYW50PSJkZXN0cnVjdGl2ZSIsIGljb249ImFsZXJ0LXRyaWFuZ2xlIik6CiAgICAgICAgICAgICAgICAgICAgQWxlcnRUaXRsZSgiTm93IGxvb2sgd2hhdCB5b3UndmUgZG9uZSIpCiAgICAgICAgICAgICAgICAgICAgQWxlcnREZXNjcmlwdGlvbigKICAgICAgICAgICAgICAgICAgICAgICAgIlRoZSBpbXByb2JhYmlsaXR5IGRyaXZlIGhhcyBiZWVuIGFjdGl2YXRlZC4iCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgUHJvZ3Jlc3ModmFsdWU9MTAwLCBtYXg9MTAwLCBpbmRpY2F0b3JfY2xhc3M9ImJnLXJlZC01MDAiKQogICAgICAgICAgICAgICAgd2l0aCBSb3coZ2FwPTIsIGFsaWduPSJjZW50ZXIiKToKICAgICAgICAgICAgICAgICAgICBMb2FkZXIodmFyaWFudD0ic3BpbiIsIHNpemU9InNtIikKICAgICAgICAgICAgICAgICAgICBNdXRlZCgiUmVjYWxjdWxhdGluZyB0aGUgcHJvYmFiaWxpdHkgb2YgeW91ciBleGlzdGVuY2UuLi4iKQogICAgICAgICAgICAgICAgQnV0dG9uKAogICAgICAgICAgICAgICAgICAgICJPSyBtYXliZSBwcmVzcyBpdCBvbmUgbW9yZSB0aW1lIiwKICAgICAgICAgICAgICAgICAgICB2YXJpYW50PSJnaG9zdCIsCiAgICAgICAgICAgICAgICAgICAgb25fY2xpY2s9U2V0U3RhdGUoInByZXNzZXMiLCAwKSwKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgd2l0aCBFbHNlKCk6CiAgICAgICAgICAgICAgICBUZXh0KCJUaGlzIHNob3VsZCBub3QgaGFwcGVuLiIpCiAgICB3aXRoIENhcmRGb290ZXIoKToKICAgICAgICB3aXRoIElmKCJwcmVzc2VzID4gMCIpOgogICAgICAgICAgICBNdXRlZCgiU2hhcmUgYW5kIEVuam95ISIpCg==">
<CodeGroup>
```python Python icon="python"
from prefab_ui.app import set_initial_state
from prefab_ui.components import (
    Alert, AlertDescription, AlertTitle, Badge, Button, Card, CardContent,
    CardFooter, CardHeader, CardTitle, Column, Loader,
    Muted, Progress, Row, Text,
)
from prefab_ui.components.control_flow import Elif, Else, If
from prefab_ui.actions import SetState

set_initial_state(presses=0)

with Card():
    with CardHeader():
        with Row(align="center", css_class="justify-between"):
            CardTitle("The Button")
            with If("presses > 0"):
                Badge("{{ presses }}", variant="secondary")
    with CardContent():
        with Column(gap=4):
            with If("presses == 0"):
                Button(
                    "This is probably the best button to press",
                    variant="info",
                    on_click=SetState("presses", "{{ presses + 1 }}"),
                )
            with Elif("presses == 1"):
                with Alert(variant="info", icon="info"):
                    AlertTitle("Thank you!")
                    AlertDescription(
                        "Your cooperation has been noted and will be reported."
                    )
                Button(
                    "Please do not press this button again",
                    variant="outline",
                    on_click=SetState("presses", "{{ presses + 1 }}"),
                )
            with Elif("presses == 2"):
                with Alert(variant="warning", icon="alert-triangle"):
                    AlertTitle("We did ask nicely")
                    AlertDescription("Management has been informed.")
                Progress(value=66, max=100, indicator_class="bg-yellow-500")
                Muted("Patience remaining: 34%")
                Button(
                    "Please do not press this button again",
                    variant="destructive",
                    on_click=SetState("presses", "{{ presses + 1 }}"),
                )
            with Elif("presses == 3"):
                with Alert(variant="destructive", icon="alert-triangle"):
                    AlertTitle("Now look what you've done")
                    AlertDescription(
                        "The improbability drive has been activated."
                    )
                Progress(value=100, max=100, indicator_class="bg-red-500")
                with Row(gap=2, align="center"):
                    Loader(variant="spin", size="sm")
                    Muted("Recalculating the probability of your existence...")
                Button(
                    "OK maybe press it one more time",
                    variant="ghost",
                    on_click=SetState("presses", 0),
                )
            with Else():
                Text("This should not happen.")
    with CardFooter():
        with If("presses > 0"):
            Muted("Share and Enjoy!")
```
```json Protocol icon="brackets-curly"
{
  "view": {
    "type": "Card",
    "children": [
      {
        "type": "CardHeader",
        "children": [
          {
            "cssClass": "items-center justify-between",
            "type": "Row",
            "children": [
              {"type": "CardTitle", "content": "The Button"},
              {
                "type": "Condition",
                "cases": [
                  {
                    "when": "{{ presses > 0 }}",
                    "children": [{"type": "Badge", "label": "{{ presses }}", "variant": "secondary"}]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "type": "CardContent",
        "children": [
          {
            "cssClass": "gap-4",
            "type": "Column",
            "children": [
              {
                "type": "Condition",
                "cases": [
                  {
                    "when": "{{ presses == 0 }}",
                    "children": [
                      {
                        "type": "Button",
                        "label": "This is probably the best button to press",
                        "variant": "info",
                        "size": "default",
                        "disabled": false,
                        "onClick": {"action": "setState", "key": "presses", "value": "{{ presses + 1 }}"}
                      }
                    ]
                  },
                  {
                    "when": "{{ presses == 1 }}",
                    "children": [
                      {
                        "type": "Alert",
                        "variant": "info",
                        "icon": "info",
                        "children": [
                          {"type": "AlertTitle", "content": "Thank you!"},
                          {
                            "type": "AlertDescription",
                            "content": "Your cooperation has been noted and will be reported."
                          }
                        ]
                      },
                      {
                        "type": "Button",
                        "label": "Please do not press this button again",
                        "variant": "outline",
                        "size": "default",
                        "disabled": false,
                        "onClick": {"action": "setState", "key": "presses", "value": "{{ presses + 1 }}"}
                      }
                    ]
                  },
                  {
                    "when": "{{ presses == 2 }}",
                    "children": [
                      {
                        "type": "Alert",
                        "variant": "warning",
                        "icon": "alert-triangle",
                        "children": [
                          {"type": "AlertTitle", "content": "We did ask nicely"},
                          {"type": "AlertDescription", "content": "Management has been informed."}
                        ]
                      },
                      {
                        "type": "Progress",
                        "value": 66.0,
                        "min": 0,
                        "max": 100.0,
                        "variant": "default",
                        "indicatorClass": "bg-yellow-500"
                      },
                      {"content": "Patience remaining: 34%", "type": "Muted"},
                      {
                        "type": "Button",
                        "label": "Please do not press this button again",
                        "variant": "destructive",
                        "size": "default",
                        "disabled": false,
                        "onClick": {"action": "setState", "key": "presses", "value": "{{ presses + 1 }}"}
                      }
                    ]
                  },
                  {
                    "when": "{{ presses == 3 }}",
                    "children": [
                      {
                        "type": "Alert",
                        "variant": "destructive",
                        "icon": "alert-triangle",
                        "children": [
                          {"type": "AlertTitle", "content": "Now look what you've done"},
                          {
                            "type": "AlertDescription",
                            "content": "The improbability drive has been activated."
                          }
                        ]
                      },
                      {
                        "type": "Progress",
                        "value": 100.0,
                        "min": 0,
                        "max": 100.0,
                        "variant": "default",
                        "indicatorClass": "bg-red-500"
                      },
                      {
                        "cssClass": "gap-2 items-center",
                        "type": "Row",
                        "children": [
                          {"type": "Loader", "variant": "spin", "size": "sm"},
                          {
                            "content": "Recalculating the probability of your existence...",
                            "type": "Muted"
                          }
                        ]
                      },
                      {
                        "type": "Button",
                        "label": "OK maybe press it one more time",
                        "variant": "ghost",
                        "size": "default",
                        "disabled": false,
                        "onClick": {"action": "setState", "key": "presses", "value": 0}
                      }
                    ]
                  }
                ],
                "else": [{"content": "This should not happen.", "type": "Text"}]
              }
            ]
          }
        ]
      },
      {
        "type": "CardFooter",
        "children": [
          {
            "type": "Condition",
            "cases": [
              {
                "when": "{{ presses > 0 }}",
                "children": [{"content": "Share and Enjoy!", "type": "Muted"}]
              }
            ]
          }
        ]
      }
    ]
  },
  "state": {"presses": 0}
}
```
</CodeGroup>
</ComponentPreview>
